<!DOCTYPE html>
<html>

<head>
<title>Password Checker</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
<br>
<div class="form-group">
  <label for="pwd">Password:</label>
  <input type="password" id="password">
  <button onclick="validatePassword()">Check</button>
</div>

<div id="alertarea">
</div>

<script>

$('#erroralert').hide();
function validatePassword() {
    errors = [];
    var p = document.getElementById("password").value;
    var score = 0;
    if (p.length < 10) {
        errors.push("Your password must be at least 10 characters long."); 
        score = -1;
    } else {
    
    
        var found = 0;
        var word = "";
        for (i = 0; i < cw.length; i++) { 
            if (p.indexOf(cw[i]) != -1) {
                word = cw[i];
                found = 1;
                break;
            }
        }
        if (found == 1) {
            errors.push("Your password must not contain common English words: " + word); 
            score = -1;
        } else {
            var score = 0;
            if (p.search(/[a-z]/) >= 0 && p.search(/[A-Z]/) >= 0) {
                score += 1;
            } else {
                errors.push("Does not have both upper and lower case chars."); 
            }
        
            if (p.search(/[0-9]/) >= 0) {
                score += 1; 
            } else {
                errors.push("No digits."); 
            }
            
            if (p.search(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,.\/]/) >= 0) {
                score += 1; 
            } else {
                errors.push("No special characters."); 
            }        
        }    
    }
    
    if (score >= 2) {	
		var str = '<div class="alert alert-success alert-dismissable">';
        str += '<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>';
        str += '<strong>Success!</strong></div>';
		document.getElementById("alertarea").innerHTML = str;
		$('#erroralert').show();		
    } else {
		
		var str = '<div class="alert alert-danger alert-dismissable" id="erroralert" >';
        str += '<a href="#" class="close" data-dismiss="alert" aria-label="close">Ã—</a>';
        str += '<strong>Error!</strong><br>';
		
		for (i = 0; i < errors.length; i++) {
		    str += errors[i] + '<br>';
		}
		
		str += '<br>'; 
        str +="The password must match at least two of these rules:<br>";
        str +="1. Contains both uppercase and lowercase letters<br>";
        str +="2. Contains numbers<br>";
        str +="3. Contains symbols<br>";		
		str += '</div>';

		document.getElementById("alertarea").innerHTML = str;
		$('#erroralert').show();
    }
    return true;
}

var cw = [];
cw.push("the");
cw.push("be");
cw.push("to");
cw.push("of");
cw.push("and");
cw.push("a");
cw.push("in");
cw.push("that");
cw.push("have");
cw.push("I");
cw.push("it");
cw.push("for");
cw.push("not");
cw.push("on");
cw.push("with");
cw.push("he");
cw.push("as");
cw.push("you");
cw.push("do");
cw.push("at");
cw.push("this");
cw.push("but");
cw.push("his");
cw.push("by");
cw.push("from");
cw.push("they");
cw.push("we");
cw.push("say");
cw.push("her");
cw.push("she");
cw.push("or");
cw.push("an");
cw.push("will");
cw.push("my");
cw.push("one");
cw.push("all");
cw.push("would");
cw.push("there");
cw.push("their");
cw.push("what");
cw.push("so");
cw.push("up");
cw.push("out");
cw.push("if");
cw.push("about");
cw.push("who");
cw.push("get");
cw.push("which");
cw.push("go");
cw.push("me");
cw.push("when");
cw.push("make");
cw.push("can");
cw.push("like");
cw.push("time");
cw.push("no");
cw.push("just");
cw.push("him");
cw.push("know");
cw.push("take");
cw.push("people");
cw.push("into");
cw.push("year");
cw.push("your");
cw.push("good");
cw.push("some");
cw.push("could");
cw.push("them");
cw.push("see");
cw.push("other");
cw.push("than");
cw.push("then");
cw.push("now");
cw.push("look");
cw.push("only");
cw.push("come");
cw.push("its");
cw.push("over");
cw.push("think");
cw.push("also");
cw.push("back");
cw.push("after");
cw.push("use");
cw.push("two");
cw.push("how");
cw.push("our");
cw.push("work");
cw.push("first");
cw.push("well");
cw.push("way");
cw.push("even");
cw.push("new");
cw.push("want");
cw.push("because");
cw.push("any");
cw.push("these");
cw.push("give");
cw.push("day");
cw.push("most");
cw.push("us");

</script>

</body>
</html>
